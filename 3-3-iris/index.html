<html>
  <head>
    <title>Website Phishing</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.3.1/dist/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <link rel="stylesheet" href="../shared.css">
    <script src="https://cdn.plot.ly/plotly-2.35.2.min.js" charset="utf-8"></script>
  </head>
  <body>
    <style>
      .load-save-section {
        padding-top: 3px; 
        padding-bottom: 3px;
      }
      input {
        width: 75px;
      }
    </style>
    <div class="container-fluid d-flex justify-content-center py-4">
      <div class="w-75">
        <section>
          <p class="section-head">Instruction</p>
          <p>Using the buttons below you can either train a new model from scratch or load a pre-trained model and test performance</p>
          <p>If you train a model from scratch you can also save it to browser local storage.</p>
          <p>If you load a pre-trained model you can edit the properties in the first row => generate a prediction for those data points</p>
        </section>
  
        <section>
          <p class="section-head">Controls</p>
          <div class="region mb-2">
            <h4>Train Model</h4>
            <div class="create-model d-flex justify-content-between">
              <div class="input-div">
                <label class="input-label me-2">Train Epochs: </label>
                <input id="train-epochs" type="number" value="40"></input>
              </div>
              <div class="input-div">
                <label class="input-label me-2">Learning Rate: </label>
                <input id="learning-rate" type="number" value="0.01" step=".01"></input>
              </div>
              <button id="train-from-scratch" class="btn btn-primary">Train model from scratch</button>
            </div>
          </div>

          <div class="region mb-2">
            <h4>Save/ Load Model</h4>
            <div class="load-save-section">
              <button id="load-pretrained-remote" class="btn btn-primary">Load hosted pretrained model</button>
            </div>
            <div class="load-save-section w-100 d-flex justify-content-between">
              <button id="load-local" class="btn btn-outline-dark" disabled="true">Load locally saved model</button>
              <button id="save-local" class="btn btn-outline-dark" disabled="true">Save model locally</button>
              <button id="remove-local" class="btn btn-outline-dark" disabled="true">Remove model locally</button>
              <span id="local-model-status">Status unavailable.</span>
            </div>
          </div>
        </section>

        <section class="mb-2">
          <h4>Status</h4>
          <div><span id="demo-status">Standing by.</span></div>
        </section>

        <section>
          <h4>Training progress</h4>
          <div class="d-flex">
            <div style="width:40%;">
              <h5>Loss</h5>
              <div class="canvases" id="lossCanvas"></div>
            </div>
            <div style="width: 40%">
              <h5>Accuracy</h5>
              <div class="canvases" id="accuracyCanvas"></div>
            </div>
            <div style="width: 20%">
              <h5>Confusion Matrix (on validation set)</h5>
              <canvas id="confusion-matrix"></canvas>
            </div>
          </div>
        </section>

        <section>
          <h4>Test Examples</h4>
          <div id="evaluate">
            <table id="evaluate-table">
              <tr>
                <th>Petal Length</th>
                <th>Petal Width</th>
                <th>Sepal Length</th>
                <th>Sepal Width</th>
                <th>True class</th>
                <th>Predicted class</th>
                <th>Class probabilities</th>
              </tr>
              <tbody id="evaluate-tbody">
                <tr>
                  <td>
                    <input id="petal-length" value="5.1"/>
                    <button id="petal-length-inc">+</button>
                    <button id="petal-length-dec">-</button>
                  </td>
                  <td>
                    <input id="petal-width" value="3.5"/>
                    <button id="petal-width-inc">+</button>
                    <button id="petal-width-dec">-</button>
                  </td>
                  <td>
                    <input id="sepal-length" value="1.4"/>
                    <button id="sepal-length-inc">+</button>
                    <button id="sepal-length-dec">-</button>
                  </td>
                  <td>
                    <input id="sepal-width" value="0.2"/>
                    <button id="sepal-width-inc">+</button>
                    <button id="sepal-width-dec">-</button>
                  </td>
                  <td></td>
                  <td id="winner"></td>
                  <td id="logits"></td>
                </tr>
              </tbody>
            </table>
          </div>
        </section>
      </div>
      
    </div>
    <script type="module" src="index.js"></script>
  </body>
</html>